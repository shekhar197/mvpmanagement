{% extends 'base.html' %}

{% block content %}
<div class="d-flex justify-content-center flex-wrap flex-row text-white">
    <div class="p-2 bg-info">
<h2> Welcome to MVP Bus Management System</h2>
</div>
</div>
<hr>
<div class="row">
  <div class="col-md-12">
      <p class="lead text-primary">Users Information</p>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
<thead><tr>
  <th>Sl No.</th>
  <th>Username</th>
  <th>Email</th>
  <th>Name</th>
  <th>User Type</th>
  <th>Action</th>
</tr></thead>
{% for user in user_detail %}
<tbody>
<tr>
  <td>{{forloop.counter}}</td>
  <td>{{user.username}}</td>
  <td>{{user.email}}</td>
  <td>{{user.first_name }} {{user.last_name}}</td>
  {% if user.usertype == '1' %}
  <td>Agency Manager</td>
  {% elif user.usertype == '2' %}
  <td>Driver</td>
  {% elif user.usertype == '3' %}
  <td>Conductor</td>
  {% elif user.usertype == '4' %}
  <td>Helper</td>
  {% else %}
  <td>Unknown</td>
  {% endif %}
  <td>
      <a href="/index/manager/edituser/{{user.pk}}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
      |
      <a href="/index/manager/deleteuser/{{user.pk}}"><span class="glyphicon glyphicon-pencil" >Delete</span></a>
  </td>
</tr>
</tbody>
{% endfor %}
</table>   
</div> 
</div>
</div>
<hr>
<div class="row">
    <div class="col-md-12">
        <p class="lead text-primary">Bus Information</p>
      </div>
  </div>
<div class="row">
    <div class="col-md-12">
<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
<thead><tr>
  <th>Sl No.</th>
  <th>Bus Number</th>
  <th>Bus Route From</th>
  <th>Bus Route To</th>
  <th>Bus Total Fare</th>
  <th>Action</th>
</tr></thead>
{% for bus in bus_detail %}
<tbody>
<tr>
  <td>{{forloop.counter}}</td>
  <td>{{bus.bnum}}</td>
  <td>{{bus.broute_from}}</td>
  <td>{{bus.broute_to}}</td>
  <td>{{bus.btotalfare}}</td>
  
  <td>
      <a href="/index/manager/editbus/{{bus.pk}}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
      |
      <a href="/index/manager/deletebus/{{bus.pk}}"><span class="glyphicon glyphicon-pencil" >Delete</span></a>
  </td>
</tr>
</tbody>
{% endfor %}
</table>   
</div> 
</div>
</div>
<hr>
<div class="row">
    <div class="col-md-12">
        <p class="lead text-primary">Assign Bus to User Information</p>
      </div>
  </div>
<div class="row">
    <div class="col-md-12">
<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
<thead><tr>
  <th>Sl No.</th>
  <th>Bus Number</th>
  <th>Driver</th>
  <th>Conductor</th>
  <th>Helper</th>
  <th>Action</th>
</tr></thead>
{% for bus_user in bus_user_detail %}
<tbody>
<tr>
  <td>{{forloop.counter}}</td>
  <td>{{bus_user.businfo}}</td>
  <td>{{bus_user.businfo_driver}}</td>
  <td>{{bus_user.businfo_condutor}}</td>
  <td>{{bus_user.businfo_helper}}</td>
  <td>
      <a href="/index/manager/editbus/{{bus.pk}}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
      |
      <a href="/index/manager/deletebus/{{bus.pk}}"><span class="glyphicon glyphicon-pencil" >Delete</span></a>
  </td>
</tr>
</tbody>
{% endfor %}
</table>   
</div> 
</div>
</div>

{% endblock %}